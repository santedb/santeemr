<ViewModel xmlns="http://santedb.org/model/view" name="emr.actSummaryView">
    <include>noModelProperties</include>

    <type type="ActTemplate" all="false">
        <property name="mnemonic" />
        <property name="name" />
    </type>
    <type type="EntityTemplate" all="false">
        <property name="mnemonic" />
        <property name="name" />
    </type>

    <type type="ActProtocol" all="false">
        <property name="protocol" />
        <property name="protocolModel" behavior="always" />
    </type>

    <type type="Concept" all="false">
        <property name="mnemonic" />
        <property name="name" behavior="always" all="true" />
    </type>

    <type type="ActRelationship" name="ActRelationshipTarget" base="noModelProperties.ActRelationship" all="true">
        <property name="targetModel" behavior="always" />
    </type>

    <type type="ActParticipation" name="ActParticipationNested" base="noModelProperties.ActParticipation" all="false">
        <property name="player" />
        <property name="playerModel" behavior="always"/>
        <property name="classification" />
    </type>

    <type type="Act" base="noModelProperties.Act" all="true">
        <property name="templateModel" behavior="always" />
        <property name="protocol" behavior="always" ref="ActProtocol" />
        <property name="typeConceptModel" behavior="always" />
        <property name="reasonConceptModel" behavior="always" />
        <property name="statusConceptModel" behavior="always" /> 
        <property name="participation" behavior="always">
            <property name="RecordTarget" ref="ActParticipationNested" />
            <property name="Location" ref="ActParticipationNested" />
            <property name="Authororiginator" ref="ActParticipationNested" />
            <property name="Performer" ref="ActParticipationNested" />
            <property name="DataEnterer" ref="ActParticipationNested" />
            <property name="Verifier" ref="ActParticipationNested" />
            <property name="SecondaryPerformer" ref="ActParticipationNested" />
            <property name="Discharger" ref="ActParticipationNested" />
            <property name="Admitter" ref="ActParticipationNested" />
            <property name="Product" ref="ActParticipationNested" />
            <property name="Baby" ref="ActParticipationNested" />
            <property name="Informant" ref="ActParticipationNested" />
            <property name="Consumable" behavior="always">
                <property name="player" />
                <property name="playerModel"  behavior="always" >
                    <property name="lotNumber"  />
                </property>
            </property>
            <property name="SecondaryPerformer" ref="ActParticipationNested" />
            <property name="*" all="false">
                <property name="player" />
            </property>
        </property>
        <property name="relationship" behavior="always">
            <property name="Fulfills" ref="ActRelationshipTarget" />
            <property name="RefersTo" all="false" ref="ActRelationshipTarget" />
            <property name="HasComponent" all="false" ref="ActRelationshipTarget" />
            <property name="HasManifestation" all="false" ref="ActRelationshipTarget" />
            <property name="HasSubject" all="false" ref="ActRelationshipTarget" />
            <property name="*" all="true">
                <property name="target" />
            </property>
        </property>

    </type>
    <type type="PatientEncounter" base="emr.actSummaryView.Act" all="true">
        <property name="dischargeDispositionModel" behavior="always"/>
    </type>

    <type type="Observation" base="emr.actSummaryView.Act" all="true">
        <property name="interpretationConcept" behavior="always" />
        <property name="interpretationConceptModel" behavior="always" />
    </type>

    <type type="CodedObservation" base="emr.actSummaryView.Observation" all="true">
        <property name="valueModel" behavior="always"/>
    </type>

    <type type="QuantityObservation" base="emr.actSummaryView.Observation" all="true">
        <property name="unitOfMeasureModel" behavior="always"/>
    </type>

    <type type="TextObservation" base="emr.actSummaryView.Observation" all="true">
    </type>

    <type type="DateObservation" base="emr.actSummaryView.Observation" all="true">
    </type>

    <type type="SubstanceAdministration" base="emr.actSummaryView.Act" all="true">
        <property name="route" />
        <property name="routeModel" behavior="always" />
        <property name="site" />
        <property name="siteModel" behavior="always" />
        <property name="doseUnit" />
        <property name="doseUnitModel" behavior="always"/>
    </type>

    <type type="Procedure" base="emr.actSummaryView.Act" all="true">
        <property name="approachSiteModel" behavior="always" />
        <property name="targetSiteModel" behavior="always" />
        <property name="methodModel" behavior="always" />

    </type>

    <type type="ControlAct" base="emr.actSummaryView.Act" all="true">
    </type>
</ViewModel>
