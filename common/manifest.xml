<?xml version="1.0" encoding="utf-8" ?>
<!--
 - Copyright 2021-2025 SanteSuite Contributors (See NOTICE.md for full copyright notices)
 - Portions Copyright (C) 2019 - 2021, Fyfe Software Inc. and the SanteSuite Contributors
 - Portions Copyright (C) 2015-2018 Mohawk College of Applied Arts and Technology
 -
 - Licensed under the Apache License, Version 2.0 (the "License"); you
 - may not use this file except in compliance with the License. You may
 - obtain a copy of the License at
 -
 - http://www.apache.org/licenses/LICENSE-2.0
 -
 - Unless required by applicable law or agreed to in writing, software
 - distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 - WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 - License for the specific language governing permissions and limitations under
 - the License.
 -->
<AppletManifest xmlns="http://santedb.org/applet">
  <info id="org.santedb.emr.common" version="3.0.0.0">
    <icon>/org.santedb.core/img/icon.png</icon>
    <name lang="en">SanteDB EMR Common</name>
    <author>SanteSuite Community Partners (see: santesuite.org)</author>
    <dependency id="org.santedb.core"/>
    <dependency id="org.santedb.uicore"/>
    <dependency id="org.santedb.admin"/>
  </info>
 
  <viewModel key="emr.duplicateRelationship">
    <definition>/org.santedb.emr.common/models/duplicate.xml</definition>
  </viewModel>


  <!-- Patient Templates -->
  <template mnemonic="org.santedb.emr.patient" public="false">
    <definition>/org.santedb.emr.common/templates/patient/adt/definition.json</definition>
    <scope>org.santedb.patient</scope>
    <oid>1.3.6.1.4.1.52820.5.2.0.1</oid>
    <description>Patient Registration</description>
    <uuid>81bc8c96-2f02-4c3f-9e2a-50fba42984a7</uuid>
    <view>/org.santedb.emr.common/templates/patient/adt/view.html</view>
  </template>
  
  <!-- ANC Templates -->
  <template mnemonic="org.santedb.emr.patient.baby" public="false">
    <definition>/org.santedb.emr.common/templates/patient/baby/definition.json</definition>
    <uuid>b0ca8509-6c0d-403a-b381-5485fdce5794</uuid>
    <oid>1.3.6.1.4.1.52820.5.2.0.2</oid>
    <description>Newborn Information</description>
  </template>

  
  <errors>
    <add code="403" asset="/org.santedb.emr.common/views/error/elevate.html"/>
  </errors>

  <!-- Observation Templates -->





    
  
  
  

  
  

  <template mnemonic="org.santedb.emr.pregnancy.confirm" public="false">
    <definition>/org.santedb.emr.common/templates/act/observation/pregnancy/confirm/definition.json</definition>
    <form>/org.santedb.emr.common/templates/act/observation/pregnancy/confirm/form.html</form>
    <view>/org.santedb.emr.common/templates/act/observation/pregnancy/confirm/view.html</view>
    <summaryView>/org.santedb.emr.common/templates/act/observation/pregnancy/confirm/summary.html</summaryView>
    <icon>fas fa-circle</icon>
    <oid>1.3.6.1.4.1.52820.5.2.1.13.4</oid>
    <description>Confirmation of Pregnancy</description>
    <uuid>0004F8B3-ED36-4F4F-A379-2A9D1AEA374E</uuid>
  </template>

  <template mnemonic="org.santedb.emr.pregnancy.complication" public="false">
    <definition>/org.santedb.emr.common/templates/act/observation/pregnancy/complication/definition.json</definition>
    <form>/org.santedb.emr.common/templates/act/observation/pregnancy/complication/form.html</form>
    <view>/org.santedb.emr.common/templates/act/observation/pregnancy/complication/view.html</view>
    <summaryView>/org.santedb.emr.common/templates/act/observation/pregnancy/complication/summary.html</summaryView>
    <icon>fas fa-circle</icon>
    <oid>1.3.6.1.4.1.52820.5.2.1.13.5</oid>
    <description>Pregnancy Complication(s)</description>
    <uuid>0005F8B3-ED36-4F4F-A379-2A9D1AEA374E</uuid>
  </template>
  

  <template mnemonic="org.santedb.emr.pregnancy.history" public="true">
    <definition>/org.santedb.emr.common/templates/act/observation/pregnancy/history/definition.json</definition>
    <form>/org.santedb.emr.common/templates/act/observation/pregnancy/history/form.html</form>
    <view>/org.santedb.emr.common/templates/act/observation/pregnancy/history/view.html</view>
    <summaryView>/org.santedb.emr.common/templates/act/observation/pregnancy/history/summary.html</summaryView>
    <icon>fas fa-person-pregnant</icon>
    <oid>1.3.6.1.4.1.52820.5.2.1.14</oid>
    <description>Pregnancy History</description>
    <uuid>296D49FC-9F92-41B2-8867-6AC12AF8E474</uuid>
    <guard>recordTarget.genderConcept === '094941e9-a3db-48b5-862c-bc289bd7f86c' &amp;&amp; recordTarget.age() &gt; 12</guard>
  </template>

  
  <template mnemonic="org.santedb.emr.infant.feeding" public="true">
    <definition>/org.santedb.emr.common/templates/act/observation/infantFeedingStatus/definition.json</definition>
    <form>/org.santedb.emr.common/templates/act/observation/infantFeedingStatus/form.html</form>
    <view>/org.santedb.emr.common/templates/act/observation/infantFeedingStatus/view.html</view>
    <summaryView>/org.santedb.emr.common/templates/act/observation/infantFeedingStatus/summary.html</summaryView>
    <icon>fas fa-person-breastfeeding</icon>
    <oid>1.3.6.1.4.1.52820.5.2.1.15</oid>
    <description>Breast Feeding Status</description>
    <uuid>8E68773E-8DD1-40C5-83DC-B60AE11A246D</uuid>
    <guard>recordTarget.age() &lt; 2</guard>
  </template>

  <!-- Registration Templates -->
  <template mnemonic="org.santedb.emr.act.visit.lds" public="true">
    <definition>/org.santedb.emr.common/templates/act/encounter/lds/definition.json</definition>
    <scope>54b52119-1709-4098-8911-5df6d6c84140</scope>
    <form>/org.santedb.emr.common/templates/act/encounter/lds/form.html</form>
    <view>/org.santedb.emr.common/templates/act/encounter/lds/view.html</view>
    <icon>fas fa-person-pregnant</icon>
    <oid>1.3.6.1.4.1.52820.5.2.5.1</oid>
    <description>Labour &amp; Delivery Visit</description>
    <uuid>AD519D42-E437-4BAE-8B64-404303DC3424</uuid>
    <guard>recordTarget.genderConcept === '094941e9-a3db-48b5-862c-bc289bd7f86c' &amp;&amp; recordTarget.age() &gt; 12</guard>
  </template>

  <template mnemonic="org.santedb.emr.act.visit.anc" public="true">
    <definition>/org.santedb.emr.common/templates/act/encounter/anc/definition.json</definition>
    <scope>54b52119-1709-4098-8911-5df6d6c84140</scope>
    <view>/org.santedb.emr.common/templates/act/encounter/anc/view.html</view>
    <icon>fas fa-person-pregnant</icon>
    <oid>1.3.6.1.4.1.52820.5.2.5.2</oid>
    <description>ANC Visit</description>
    <uuid>90AA7F29-5383-47E8-89F0-B208BC4D2363</uuid>
    <!-- TODO: Complete the hasObservation method -->
    <guard>recordTarget.genderConcept === '094941e9-a3db-48b5-862c-bc289bd7f86c' &amp;&amp; recordTarget.age() &gt; 12</guard>
  </template>
  
  <template mnemonic="org.santedb.emr.act.visit.general" public="true">
    <definition>/org.santedb.emr.common/templates/act/encounter/generic/definition.json</definition>
    <scope>54b52119-1709-4098-8911-5df6d6c84140</scope>
    <view>/org.santedb.emr.common/templates/act/encounter/generic/view.html</view>
    <summaryView>/org.santedb.emr.common/templates/act/encounter/generic/summary.html</summaryView>
    <icon>fas fa-circle</icon>
    <oid>1.3.6.1.4.1.52820.5.2.5.3</oid>
    <description>General / Primary Care Visit</description>
    <uuid>690e1a5a-548d-43e5-9eeb-9e538d42a323</uuid>
  </template>
  
  <template mnemonic="org.santedb.emr.act.registration.death" public="true">
    <definition>/org.santedb.emr.common/templates/act/registration/death/definition.json</definition>
    <scope>54b52119-1709-4098-8911-5df6d6c84140</scope>
    <form>/org.santedb.emr.common/templates/act/registration/death/form.html</form>
    <view>/org.santedb.emr.common/templates/act/registration/death/view.html</view>
    <oid>1.3.6.1.4.1.52820.5.2.2.2</oid>
    <icon>fas fa-file-medical</icon>
    <description>Death Registration</description>
    <uuid>627b5b71-ba67-484b-811c-9ef00ec4d5f0</uuid>
  </template>
  
  
  <!-- ANC Carepath -->
  <carepath mnemonic="org.santedb.emr.carepath.anc" public="true">
    <uuid>7a5c410d-23ff-48f8-8eda-7842a7fae937</uuid>
    <name>ANC Routine Immunization Carepath</name>
    <description>Provides routine vaccinations for all ANC patients</description>
    <eligibility>participation[RecordTarget].source@CodedObservation.typeConcept=afc33800-8225-4061-b168-bacc09cdbae3&amp;
      participation[RecordTarget].source@CodedObservation.value.conceptSet=!8e848f0e-890b-11f0-ae3f-9f37087e0822&amp;
      participation[RecordTarget].source@CodedObservation.statusConcept=!BDEF5F90-5497-4F26-956C-8F818CCE2BD2
    </eligibility>
    <enrollment>automatic</enrollment>
    <encounter>org.santedb.emr.act.visit.anc</encounter>
  </carepath>

  <strings lang="en" extern="~/locales/en/emr.xml">
    <string priority="2"/>
  </strings>
  <strings lang="en-ca" extern="~/locales/en/emr.xml">
    <string priority="2" />
  </strings>
  <strings lang="en-us" extern="~/locales/en/emr.xml">
    <string priority="2" />
  </strings>
  <strings lang="en-ph" extern="~/locales/en/emr.xml">
    <string priority="2" />
  </strings>
  <strings lang="en-gb" extern="~/locales/en/emr.xml">
    <string priority="2" />
  </strings>
  <strings lang="en-iso" extern="~/locales/en/emr.xml">
    <string priority="2" />
  </strings>
  
  <strings lang="en" extern="~/locales/en/admin.xml">
    <string priority="2"/>
  </strings>
  <strings lang="en-ca" extern="~/locales/en/admin.xml">
    <string priority="2" />
  </strings>
  <strings lang="en-us" extern="~/locales/en/admin.xml">
    <string priority="2" />
  </strings>
  <strings lang="en-ph" extern="~/locales/en/admin.xml">
    <string priority="2" />
  </strings>
  <strings lang="en-gb" extern="~/locales/en/admin.xml">
    <string priority="2" />
  </strings>
  <strings lang="en-iso" extern="~/locales/en/admin.xml">
    <string priority="2" />
  </strings>
</AppletManifest>