<div xmlns="http://www.w3.org/1999/xhtml" xmlns:sdb="http://santedb.org/applet">
    <sdb:script>~/controllers/patient/widgets/cdsAlerts.js</sdb:script>
    <sdb:widget order="500" name="org.santedb.emr.widget.patient.cdsAlerts" headerClass="alert-info" size="Medium"
        type="Panel" context="org.santedb.emr.patient.view.dashboard">
        <sdb:icon>fas fa-lightbulb</sdb:icon>
        <sdb:description lang="en">Shows any detected issues, alerts, and notices which have been computed by the EMR software</sdb:description>
    </sdb:widget>

    <div ng-if="scopedObject" ng-controller="EmrPatientCdsAlertsController">
        <ul class="list-group">
            <li ng-repeat="iss in issues track by $index" 
                class="list-group-item d-flex justify-items-betweeb"
                ng-class="{ 'list-group-item-info': iss.priority == 'Information', 'list-group-item-warning' : iss.priority == 'Warning', 'list-group-item-danger' : iss.priority == 'Error' }">

                <div class="badge mx-2" 
                    ng-class="{ 'badge-info': iss.priority == 'Information', 'badge-warning' : iss.priority == 'Warning', 'badge-danger' : iss.priority == 'Error' }">
                    <i class="fa fa-fw" ng-class="{
                        'fa-circle-info' : iss.type == '1a4ff986-f54f-11e8-8eb2-f2801f1b9fd1' || iss.type == '00000000-0000-0000-0000-000000000000',
                        'fa-shield' : iss.type == '1a4ff454-f54f-11e8-8eb2-f2801f1b9fd1',
                        'fa-database' : iss.type == '1a4ff6f2-f54f-11e8-8eb2-f2801f1b9fd1',
                        'fa-list-check' : iss.type == '1a4ff850-f54f-11e8-8eb2-f2801f1b9fd1',
                        'fa-repeat' : iss.type == '1a4ffab2-f54f-11e8-8eb2-f2801f1b9fd1',
                        'fa-square-xmark': iss.type == '1a4ffcec-f54f-11e8-8eb2-f2801f1b9fd1',
                        'fa-person-circle-exclamation' : iss.type == '1a4ffe40-f54f-11e8-8eb2-f2801f1b9fd1',
                        'fa-user-shield' : iss.type == '1a4fff6c-f54f-11e8-8eb2-f2801f1b9fd1',
                        'fa-building-shield' : iss.type == 'a799d33d-2326-4beb-aa27-6ff82bd0e217'
                    }"></i>
                    {{ iss.typeModel | concept }}
                </div>

                <div class="flex-grow-1 mx-2"> {{ iss.text }} </div>

            </li>
        </ul>
    </div>
</div>