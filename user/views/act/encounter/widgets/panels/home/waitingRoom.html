<div xmlns="http://www.w3.org/1999/xhtml" xmlns:sdb="http://santedb.org/applet">
    <sdb:script static="false">~/controllers/act/encounter/dashboard.js</sdb:script>
    <sdb:widget name="org.santedb.emr.encounter.dashboard.waitingRoom" type="Panel" context="org.santedb.emr.dashboard"
        size="Medium" order="300">
        <sdb:icon>fas fa-people-roof</sdb:icon>
        <sdb:title lang="en">Waiting Room</sdb:title>
        <sdb:description lang="en">Shows a list of patients which have been checked into your clinic allowing for easy
            searching and discharge</sdb:description>
    </sdb:widget>

    <div ng-controller="EmrWaitingRoomController">
        <entity-list type="PatientEncounter" can-filter="true" id="waitingRoomList"
            search-field="'participation[RecordTarget].player.identifier.value||participation[RecordTarget].player.name.component.value'" default-query="{
        statusConcept: 'C8064CBD-FA06-4530-B430-1A52F1530C27',
        moodConcept: 'EC74541F-87C4-4327-A4B9-97F325501747',
        _orderBy: 'startTime:desc',
        _viewModel: 'fastview'
    }" actions="[
        { name: 'dashboard', sref: 'santedb-emr.encounter.dashboard', className: 'btn-info', icon: 'fas fa-fw fa-heart-circle-bolt' }
    ]" item-actions="[
        { name: 'cancel', action: 'doCancel', className: 'btn-danger', icon: 'fa-solid fa-person-circle-xmark'},
        { name: 'discharge', action: 'doDischarge', className: 'btn-success', icon: 'fa-solid fa-person-walking-arrow-right'},
        { name: 'visit', demand: '1.3.6.1.4.1.33349.3.1.5.9.2.2.1', sref: 'santedb-emr.encounter.view', className: 'btn-info', icon: 'fas fa-person-shelter' },
        { name: 'view', demand: '1.3.6.1.4.1.33349.3.1.5.9.2.2.1', action: 'doViewPatient', className: 'btn-primary', icon: 'fas fa-person' }
    ]" display="list" 
    item-supplement="[ loadFlowState ]"
    item-template="/org.santedb.emr/partials/act/checkin-summary.html">
        </entity-list>
    </div>
</div>