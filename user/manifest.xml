<?xml version="1.0" encoding="utf-8" ?>
<!--
 - Portions Copyright 2015-2019 Mohawk College of Applied Arts and Technology
 - Portions Copyright 2019-2019 SanteSuite Contributors (See NOTICE)
 - 
 - 
 - Licensed under the Apache License, Version 2.0 (the "License"); you 
 - may not use this file except in compliance with the License. You may 
 - obtain a copy of the License at 
 - 
 - http://www.apache.org/licenses/LICENSE-2.0 
 - 
 - Unless required by applicable law or agreed to in writing, software
 - distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 - WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the 
 - License for the specific language governing permissions and limitations under 
 - the License.
 - 
 - User: Justin Fyfe
 - Date: 2019-8-8
 -->
<AppletManifest xmlns="http://santedb.org/applet">
  <info id="org.santedb.emr" version="2.1.3.0">
    <icon>/org.santedb.core/img/icon.png</icon>
    <name lang="en">SanteDB EMR Base Package</name>
    <author>SanteSuite Community Partners (see: santesuite.org)</author>
    <dependency id="org.santedb.core"/>
    <dependency id="org.santedb.uicore"/>
  </info>

  <errors>
    <add code="403" asset="/org.santedb.emr/views/error/elevate.html"/>
  </errors>

  <menuItem context="ui.emr" launch="santedb-emr.dashboard"  asset="/org.santedb.emr/views/dashboard.html" order="-100">
    <icon>fas fa-tachometer-alt</icon>
    <text lang="en">Dashboard</text>
  </menuItem>
  <menuItem context="ui.emr" launch="santedb-emr.patient.dashboard" asset="/org.santedb.emr/views/patient/dashboard.html" order="-100">
    <icon>fas fa-hospital-user</icon>
    <text lang="en">Patients</text>
    <menuItem context="ui.emr" launch="santedb-emr.patient.search" asset="/org.santedb.emr/views/patient/search.html" order="-100">
      <icon>fas fa-search</icon>
      <text lang="en">Search</text>
    </menuItem>
    <menuItem context="ui.emr" launch="santedb-emr.patient.advSearch" asset="/org.santedb.emr/views/patient/advSearch.html" order="-100">
      <icon>fas fa-search-plus</icon>
      <text lang="en">Advanced Search</text>
    </menuItem>
    <menuItem context="ui.emr" launch="santedb-emr.patient.register" asset="/org.santedb.emr/views/patient/register.html" order="-100">
      <icon>fas fa-user-plus</icon>
      <text lang="en">Register</text>
    </menuItem>
  </menuItem>
  <menuItem context="ui.emr" launch="santedb-emr.facility.dashboard" asset="/org.santedb.emr/views/facility/dashboard.html" order="50">
    <icon>fas fa-fw fa-house-medical-flag</icon>
    <text lang="en">My Clinic</text>
    <menuItem context="ui.emr" launch="santedb-emr.encounter.dashboard" asset="/org.santedb.emr/views/act/encounter/dashboard.html" order="0">
      <icon>fas fa-fw fa-person-breastfeeding</icon>
      <text lang="en">Waiting Room</text>
    </menuItem>
  </menuItem>
  <menuItem context="ui.emr" launch="santedb-emr.system.info" asset="/org.santedb.emr/views/system/index.html" order="1000">
    <icon>fas fa-tablet</icon>
    <text lang="en">System</text>
    <menuItem context="ui.emr" launch="santedb-emr.system.logs.index" asset="/org.santedb.emr/views/system/logs/index.html">
      <icon>fas fa-tasks</icon>
      <text lang="en">Logs</text>
    </menuItem>
    <menuItem context="ui.emr" launch="santedb-emr.system.config" asset="/org.santedb.emr/views/system/config.html">
      <icon>fas fa-tasks</icon>
      <text lang="en">Configuration</text>
    </menuItem>
    <menuItem context="ui.emr" launch="santedb-emr.system.jobs" asset="/org.santedb.emr/views/system/jobs.html">
      <icon>fas fa-cogs</icon>
      <text lang="en">Background Jobs</text>
    </menuItem>
    <menuItem context="ui.emr" launch="santedb-emr.system.probes" asset="/org.santedb.emr/views/system/probes.html">
      <icon>fas fa-thermometer</icon>
      <text lang="en">Probes</text>
    </menuItem>
    <menuItem context="ui.emr" launch="santedb-emr.system.users.index" asset="/org.santedb.emr/views/system/users/index.html">
      <icon>fas fa-users</icon>
      <text lang="en">Local Users</text>
    </menuItem>
    <menuItem context="ui.emr" launch="santedb-emr.system.bug" asset="/org.santedb.emr/views/system/bug.html">
      <icon>fas fa-bug</icon>
      <text lang="en">Submit Bug</text>
    </menuItem>
    <menuItem context="ui.emr" launch="santedb-emr.system.backup.index" asset="/org.santedb.emr/views/system/backup/index.html">
      <icon>fas fa-cube</icon>
      <text lang="en">Backups</text>
    </menuItem>
    <menuItem context="ui.emr" launch="santedb-emr.system.audit.index" asset="/org.santedb.emr/views/system/audit/index.html">
      <icon>fas fa-search-plus</icon>
      <text lang="en">Audit Log</text>
    </menuItem>
  </menuItem>

  <!--
  <viewModel key="relationship_full">
    <definition>/ui.emr/model/relationship_full.xml</definition>
  </viewModel>
  -->

  <!-- SanteEMR Templates are in the Fyfe Software Community OID (1.3.6.1.4.1.52820.5) in SanteEMR  (.2)  -->

  <!-- Patient Templates -->
  <template mnemonic="org.santedb.emr.patient" public="true">
    <definition>/org.santedb.emr/templates/patient/adt/definition.json</definition>
    <scope>org.santedb.patient</scope>
    <oid>1.3.6.1.4.1.52820.5.2.0.1</oid>
    <description>Patient Registration</description>
    <uuid>81bc8c96-2f02-4c3f-9e2a-50fba42984a7</uuid>
    <view>/org.santedb.emr/templates/patient/adt/view.html</view>
  </template>
  <template mnemonic="org.santedb.emr.patient.baby" public="false">
    <definition>/org.santedb.emr/templates/patient/baby/definition.json</definition>
    <uuid>b0ca8509-6c0d-403a-b381-5485fdce5794</uuid>
    <oid>1.3.6.1.4.1.52820.5.2.0.2</oid>
    <description>Newborn Information</description>
  </template>

  <!-- Observation Templates -->
  <template mnemonic="org.santedb.emr.observation.cod" public="true">
    <definition>/org.santedb.emr/templates/act/observation/cod/definition.json</definition>
    <scope>org.santedb.emr.observation.death</scope>
    <form>/org.santedb.emr/templates/act/observation/cod/form.html</form>
    <view>/org.santedb.emr/templates/act/observation/cod/view.html</view>
    <icon>fas fa-file-medical</icon>
    <oid>1.3.6.1.4.1.52820.5.2.1.1</oid>
    <description>Cause Of Death</description>
    <uuid>3fc9cce1-b9bb-4a9d-b054-2d19fa34da72</uuid>
  </template>
  <template mnemonic="org.santedb.emr.observation.birthReport" public="true">
    <definition>/org.santedb.emr/templates/act/observation/birthReport/definition.json</definition>
    <scope>org.santedb.emr.act.registration.birth</scope>
    <form>/org.santedb.emr/templates/act/observation/birthReport/form.html</form>
    <view>/org.santedb.emr/templates/act/observation/birthReport/view.html</view>
    <oid>1.3.6.1.4.1.52820.5.2.1.2</oid>
    <icon>fas fa-file-medical</icon>
    <description>Birth/Delivery Report</description>
    <uuid>b7548aa1-97a6-4c3a-b735-2d1dbf2898f8</uuid>
  </template>
  <template mnemonic="org.santedb.emr.observation.birthWeight" public="true">
    <definition>/org.santedb.emr/templates/act/observation/birthWeight/definition.json</definition>
    <scope>org.santedb.emr.act.registration.birth</scope>
    <form>/org.santedb.emr/templates/act/observation/birthWeight/form.html</form>
    <view>/org.santedb.emr/templates/act/observation/birthWeight/view.html</view>
    <icon>fas fa-file-medical</icon>
    <oid>1.3.6.1.4.1.52820.5.2.1.5</oid>
    <description>Birth Weight</description>
    <uuid>20691188-f1ca-4d06-90a4-8f857c293853</uuid>
  </template>
  <template mnemonic="org.santedb.emr.observation.heightLying" public="true">
    <definition>/org.santedb.emr/templates/act/observation/heightLying/definition.json</definition>
    <scope>org.santedb.emr.act.registration.birth</scope>
    <scope>org.santedb.model.patientEncounter</scope>
    <form>/org.santedb.emr/templates/act/observation/heightLying/form.html</form>
    <view>/org.santedb.emr/templates/act/observation/heightLying/view.html</view>
    <summaryView>/org.santedb.emr/templates/act/observation/heightLying/summary.html</summaryView>
    <icon>fas fa-file-medical</icon>
    <oid>1.3.6.1.4.1.52820.5.2.1.6</oid>
    <description>Body Height (Lying Down)</description>
    <uuid>e052a85e-b7fb-4808-aa5c-14147abd5fe8</uuid>
  </template>
  <template mnemonic="org.santedb.emr.observation.pregnancyHistory" public="true">
    <definition>/org.santedb.emr/templates/act/observation/pregnancyHistory/definition.json</definition>
    <scope>org.santedb.emr.act.registration.birth</scope>
    <form>/org.santedb.emr/templates/act/observation/pregnancyHistory/form.html</form>
    <icon>fas fa-file-medical</icon>
    <view>/org.santedb.emr/templates/act/observation/pregnancyHistory/view.html</view>
    <oid>1.3.6.1.4.1.52820.5.2.1.7</oid>
    <description>PregnancyHistory</description>
    <uuid>ea4e5cfb-fb49-434f-8b5e-c8f027f18775</uuid>
  </template>
  <template mnemonic="org.santedb.emr.observation.death" public="true">
    <definition>/org.santedb.emr/templates/act/observation/death/definition.json</definition>
    <scope>org.santedb.emr.act.registration.death</scope>
    <form>/org.santedb.emr/templates/act/observation/death/form.html</form>
    <icon>fas fa-file-medical</icon>
    <view>/org.santedb.emr/templates/act/observation/death/view.html</view>
    <oid>1.3.6.1.4.1.52820.5.2.1.8</oid>
    <description>Clinical Death</description>
    <uuid>740bd62b-54bf-4bba-8546-954cdb5bb63a</uuid>
  </template>
  <template mnemonic="org.santedb.emr.sbadm.immunization" public="true">
    <definition>/org.santedb.emr/templates/act/sbadm/immunization/definition.json</definition>
    <form>/org.santedb.emr/templates/act/sbadm/immunization/form.html</form>
    <view>/org.santedb.emr/templates/act/sbadm/immunization/view.html</view>
    <summaryView>/org.santedb.emr/templates/act/sbadm/immunization/summary.html</summaryView>
    <icon>fas fa-syringe</icon>
    <oid>1.3.5.1.4.1.52820.5.2.3.2</oid>
    <description>Immunization Administration</description>
    <uuid>50ac9b2d-e560-4b75-ac77-921bf0eceee8</uuid>
  </template>
  <template mnemonic="org.santedb.emr.sbadm.supplement" public="true">
    <definition>/org.santedb.emr/templates/act/sbadm/supplement/definition.json</definition>
    <form>/org.santedb.emr/templates/act/sbadm/supplement/form.html</form>
    <view>/org.santedb.emr/templates/act/sbadm/supplement/view.html</view>
    <summaryView>/org.santedb.emr/templates/act/sbadm/supplement/summary.html</summaryView>
    <icon>fas fa-pill</icon>
    <oid>1.3.5.1.4.1.52820.5.2.3.1</oid>
    <description>Supplement Administration</description>
    <uuid>feac9b2d-e560-4b75-ac77-921bf0eceee8</uuid>
  </template>


  <!-- Registration Templates -->
  <template mnemonic="org.santedb.emr.act.registration.lds" public="true">
    <definition>/org.santedb.emr/templates/act/registration/lds/definition.json</definition>
    <scope>org.santedb.model.act</scope>
    <form>/org.santedb.emr/templates/act/registration/lds/form.html</form>
    <view>/org.santedb.emr/templates/act/registration/lds/view.html</view>
    <icon>fas fa-person-pregnant</icon>
    <oid>1.3.6.1.4.1.52820.5.2.5.1</oid>
    <description>Labour &amp; Delivery Summary</description>
    <uuid>AD519D42-E437-4BAE-8B64-404303DC3424</uuid>
    <guard>recordTarget.genderConcept === '094941e9-a3db-48b5-862c-bc289bd7f86c' &amp;&amp; recordTarget.age() &gt; 12</guard>
  </template>
  <template mnemonic="org.santedb.emr.act.registration.ancInitial" public="true">
    <definition>/org.santedb.emr/templates/act/registration/ancInitial/definition.json</definition>
    <scope>org.santedb.model.act</scope>
    <form>/org.santedb.emr/templates/act/registration/ancInitial/form.html</form>
    <view>/org.santedb.emr/templates/act/registration/ancInitial/view.html</view>
    <icon>fas fa-person-pregnant</icon>
    <oid>1.3.6.1.4.1.52820.5.2.5.2</oid>
    <description>ANC Initial Consult</description>
    <uuid>90AA7F29-5383-47E8-89F0-B208BC4D2363</uuid>
    <!-- TODO: Complete the hasObservation method -->
    <guard>recordTarget.genderConcept === '094941e9-a3db-48b5-862c-bc289bd7f86c' &amp;&amp; recordTarget.age() &gt; 12</guard>
  </template>
  <template mnemonic="org.santedb.emr.act.registration.ancFollowup" public="true">
    <definition>/org.santedb.emr/templates/act/registration/ancFollowup/definition.json</definition>
    <scope>org.santedb.model.act</scope>
    <form>/org.santedb.emr/templates/act/registration/ancFollowup/form.html</form>
    <view>/org.santedb.emr/templates/act/registration/ancFollowup/view.html</view>
    <icon>fas fa-person-pregnant</icon>
    <oid>1.3.6.1.4.1.52820.5.2.5.3</oid>
    <description>ANC Routine Visit / Follow-up</description>
    <uuid>9E819583-3D37-42CE-BECB-C273D354AA39</uuid>
    <!-- TODO: Complete the hasObservation method -->
    <guard>recordTarget.genderConcept === '094941e9-a3db-48b5-862c-bc289bd7f86c' &amp;&amp; recordTarget.age() &gt; 12 &amp;&amp; recordTarget.hasCondition('PREGNANCY_UUID')</guard>
  </template>
  <template mnemonic="org.santedb.emr.act.registration.death" public="true">
    <definition>/org.santedb.emr/templates/act/registration/death/definition.json</definition>
    <scope>org.santedb.model.act</scope>
    <form>/org.santedb.emr/templates/act/registration/death/form.html</form>
    <view>/org.santedb.emr/templates/act/registration/death/view.html</view>
    <oid>1.3.6.1.4.1.52820.5.2.2.2</oid>
    <icon>fas fa-file-medical</icon>
    <description>Death Registration</description>
    <uuid>627b5b71-ba67-484b-811c-9ef00ec4d5f0</uuid>
  </template>
  


  <strings lang="en" extern="~/locales/en/strings.xml"/>
  <strings lang="en-ca" extern="~/locales/en/strings.xml"/>
  <strings lang="en-us" extern="~/locales/en/strings.xml"/>
  <strings lang="en-ph" extern="~/locales/en/strings.xml"/>
  <strings lang="en-uk" extern="~/locales/en/strings.xml"/>
  <strings lang="en-iso" extern="~/locales/en/strings.xml"/>
</AppletManifest>